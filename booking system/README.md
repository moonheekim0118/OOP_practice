# 영화 예매 프로그램 프로젝트

- 자바스크립트 OOP를 공부하기 위해 만들어본 영화 예매 프로그램 프로젝트
- [오브젝트](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=193681076) 예제 참고하여 최대한 혼자힘으로 구현해보았습니다  

# <img src="demo/demo.gif?raw=true">


## 구현한 기능

- [x] 오늘을 기준으로 일주일 단위로 영화 상영 예정표를 구현하였다. 이 때 날짜별로 영화들의 시작 시간은 동일하되 , 상영 영화를 랜덤으로 배치하도록 하였다.
- [x] 영화를 선택하여 예매 장바구니에 넣을 수 있다.
- [x] 예매 장바구니에 넣은 영화를 삭제할 수 있다.
- [x] 예매 장바구니에 넣은 영화에 대하여 원가와 할인가 그리고 총액을 알 수 있다.
- [x] 다크모드로 변환 할 수 있다.



## 클래스

- Movie
  - 영화에 대한 데이터를 저장하는 클래스
  - 생성자 매개변수 : 제목, 러닝타임, 요금 
- Money
  - 원가와 할인가에 대한 데이터를 저장하는 클래스
  - 생성자 매개변수 :  총 요금, 할인 요금 
- Screening 
  - 영화 상영에 대한 데이터를 저장하고, 상영 영화에 따른 할인가를 새로운 Money 인스턴스로 저장해주는 클래스 
  - 생성자 매개변수: Movie인스턴스, 상영 일자, 영화 상영 시작 시간, discountPolicy 인스턴스
- Reservation
  - 상영하는 영화에 대한 예약을 저장하는 클래스
  - 생성자 매개변수: Screening 인스턴스, Money 인스턴스
- DiscountPolicy 
  - 할인 정책에 대한 데이터를 저장하는 클래스
  - 생성자 매개변수 : discountRequirement 인스턴스, 할인량
- StaticDiscount extends DiscountPolicy
  - 정적 금액을 할인해주는 할인 정책
- PercentageDiscount extends DiscountPolicy
  - 퍼센테이지로 할인해주는 할인 정책
- DiscountRequirement
  - 할인에 대한 요건으로, 특정 시간 내 상영하는 영화에 대해서만 할인을 승인해준다.
  - 생성자 매개변수 : 상영 시작시간, 상영 종료 시간
- CaclDate
  - 달력과 날짜에 대한 연산을 담당하는 클래스
  - 현재 일자, 월, 년도를 알려준다.
  - 이번 달의 총 일수를 알려준다.
  - 배열 내 인덱스가 어느 날짜를 가리키는지 계산하여 알려준다.
- Store
  - reservedList (예약리스트)에 대한 연산을 담당하는 클래스
  - filter 메서드를 통해 특정 인덱스의 요소를 삭제한다.
  - 새로운 요소를 추가한다.
  - Reduce 메서드를 예약리스트에 담긴 영화들의 총 원가와 할인가를 구한다
- UI
  - UI와 관련한 연산을 담당하는 클래스
  - 특정 날짜 선택시 해당 날짜에 상영하는 모든 영화들을 화면에 보여준다.
  - 예약 리스트가 존재할 시, 예약리스트를 화면에 보여준다.
  - 예약 리스트 영화들에 대한 총액과 할인액을 화면에 보여준다.
  - 특정 예약리스트가 삭제되면, 화면에서 해당 항목을 삭제해준다.
  - 예약 완료 / 취소에 대한 alert를 띄워준다.

## 그 외 함수

- timestamp
  - startTime와 endTime을 매개변수로 받아서, 00:00~00:00 형태로 변환하여 반환해주는 함수
- initScreening
  - 저장된 영화 인스턴스를 이용해 아침, 점심, 저녁 , 심야시간대 영화를 랜덤으로 상영 배치 해주는 함수 
- dateEvent
  - 달력 내 날짜에 대한 이벤트 리스너
- movieSelectEvent
  - 상영 표 내 상영 영화에 대한 이벤트 리스너
- ReservationRemoveEvent
  - 예매 장바구니 내 삭제 버튼에 대한 이벤트 리스너